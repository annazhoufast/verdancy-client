{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amjjl\\\\OneDrive\\\\Documents\\\\College\\\\INFO Capstone\\\\verdancy-client\\\\src\\\\Components\\\\Main\\\\Components\\\\SignOutButton\\\\SignOutButton.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\nimport Errors from '../../../Errors/Errors';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SignOutButton = ({\n  setAuthToken,\n  setUser\n}) => {\n  _s();\n\n  const [error, setError] = useState(\"\");\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: async e => {\n        e.preventDefault();\n        const response = await fetch(api.base + api.handlers.sessionsMine, {\n          method: \"DELETE\",\n          headers: new Headers({\n            \"Authorization\": localStorage.getItem(\"Authorization\")\n          })\n        });\n\n        if (response.status >= 300) {\n          const error = await response.text();\n          setError(error);\n          return;\n        }\n\n        localStorage.removeItem(\"Authorization\");\n        setError(\"\");\n        setAuthToken(\"\");\n        setUser(null);\n      },\n      children: \"Sign out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 14\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Errors, {\n        error: error,\n        setError: setError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(SignOutButton, \"Wysf5k9/9rbzWl+spWgJpEWy35U=\");\n\n_c = SignOutButton;\nSignOutButton.propTypes = {\n  setAuthToken: PropTypes.func.isRequired,\n  setUser: PropTypes.func.isRequired\n};\nexport default SignOutButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignOutButton\");","map":{"version":3,"sources":["C:/Users/amjjl/OneDrive/Documents/College/INFO Capstone/verdancy-client/src/Components/Main/Components/SignOutButton/SignOutButton.js"],"names":["React","useState","PropTypes","api","Errors","SignOutButton","setAuthToken","setUser","error","setError","e","preventDefault","response","fetch","base","handlers","sessionsMine","method","headers","Headers","localStorage","getItem","status","text","removeItem","propTypes","func","isRequired"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,GAAP,MAAgB,iDAAhB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;;;;AAEA,MAAMC,aAAa,GAAG,CAAC;AAAEC,EAAAA,YAAF;AAAgBC,EAAAA;AAAhB,CAAD,KAA+B;AAAA;;AACjD,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,EAAD,CAAlC;AAEA,sBAAO;AAAA,4BAAE;AAAQ,MAAA,OAAO,EAAE,MAAOS,CAAP,IAAa;AACnCA,QAAAA,CAAC,CAACC,cAAF;AACA,cAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACV,GAAG,CAACW,IAAJ,GAAWX,GAAG,CAACY,QAAJ,CAAaC,YAAzB,EAAuC;AAC/DC,UAAAA,MAAM,EAAE,QADuD;AAE/DC,UAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACjB,6BAAiBC,YAAY,CAACC,OAAb,CAAqB,eAArB;AADA,WAAZ;AAFsD,SAAvC,CAA5B;;AAMA,YAAIT,QAAQ,CAACU,MAAT,IAAmB,GAAvB,EAA4B;AACxB,gBAAMd,KAAK,GAAG,MAAMI,QAAQ,CAACW,IAAT,EAApB;AACAd,UAAAA,QAAQ,CAACD,KAAD,CAAR;AACA;AACH;;AACDY,QAAAA,YAAY,CAACI,UAAb,CAAwB,eAAxB;AACAf,QAAAA,QAAQ,CAAC,EAAD,CAAR;AACAH,QAAAA,YAAY,CAAC,EAAD,CAAZ;AACAC,QAAAA,OAAO,CAAC,IAAD,CAAP;AACH,OAjBQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAF,EAkBFC,KAAK,iBACF;AAAA,6BACI,QAAC,MAAD;AAAQ,QAAA,KAAK,EAAEA,KAAf;AAAsB,QAAA,QAAQ,EAAEC;AAAhC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAnBD;AAAA,kBAAP;AAwBH,CA3BD;;GAAMJ,a;;KAAAA,a;AA6BNA,aAAa,CAACoB,SAAd,GAA0B;AACtBnB,EAAAA,YAAY,EAAEJ,SAAS,CAACwB,IAAV,CAAeC,UADP;AAEtBpB,EAAAA,OAAO,EAAEL,SAAS,CAACwB,IAAV,CAAeC;AAFF,CAA1B;AAKA,eAAetB,aAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\r\nimport Errors from '../../../Errors/Errors';\r\n\r\nconst SignOutButton = ({ setAuthToken, setUser }) => {\r\n    const [error, setError] = useState(\"\");\r\n\r\n    return <><button onClick={async (e) => {\r\n        e.preventDefault();\r\n        const response = await fetch(api.base + api.handlers.sessionsMine, {\r\n            method: \"DELETE\",\r\n            headers: new Headers({\r\n                \"Authorization\": localStorage.getItem(\"Authorization\")\r\n            })\r\n        });\r\n        if (response.status >= 300) {\r\n            const error = await response.text();\r\n            setError(error);\r\n            return;\r\n        }\r\n        localStorage.removeItem(\"Authorization\");\r\n        setError(\"\");\r\n        setAuthToken(\"\");\r\n        setUser(null);\r\n    }}>Sign out</button>\r\n        {error &&\r\n            <div>\r\n                <Errors error={error} setError={setError} />\r\n            </div>\r\n        }\r\n    </>\r\n}\r\n\r\nSignOutButton.propTypes = {\r\n    setAuthToken: PropTypes.func.isRequired,\r\n    setUser: PropTypes.func.isRequired\r\n}\r\n\r\nexport default SignOutButton;"]},"metadata":{},"sourceType":"module"}