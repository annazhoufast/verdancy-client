{"ast":null,"code":"import _regeneratorRuntime from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,useState}from'react';import{EmissionsTitle}from'./EmissionsTitle';import{Conversions}from'./Conversions';import{Breakdown}from'./Breakdown';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Emissions=/*#__PURE__*/function(_React$Component){_inherits(Emissions,_React$Component);var _super=_createSuper(Emissions);function Emissions(props){var _this;_classCallCheck(this,Emissions);_this=_super.call(this,props);_this.state={error:null,isLoaded:false,totalEm:0,auth:localStorage.getItem(\"Authorization\"),gardenD:[]};return _this;}_createClass(Emissions,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$Promise$all,_yield$Promise$all2,emissions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Promise.all([fetch(\"https://verdancy.capstone.ischool.uw.edu/v1/emissions/\",{method:'GET',headers:new Headers({'Authorization':this.state.auth})}).then(function(res){return res.json();})]);case 2:_yield$Promise$all=_context.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,1);emissions=_yield$Promise$all2[0];this.setState({totalEm:emissions.Emissions});// console.log(garden);\n// fetch(\"https://verdancy.capstone.ischool.uw.edu/v1/emissions/\", {\n//     method: 'GET',\n//     headers: new Headers({\n//         'Authorization': this.state.auth\n//     })\n// })\n//     .then(res => res.json())\n//     .then(\n//         (result) => {\n//             this.setState({\n//                 isLoaded: true,\n//                 totalEm: result.Emissions\n//             });\n//         },\n//         (error) => {\n//             this.setState({\n//                 isLoaded: true,\n//                 error\n//             });\n//         }\n//     )\ncase 6:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"body\",{id:\"emissions-page\",children:[/*#__PURE__*/_jsx(EmissionsTitle,{emissions:this.state.totalEm}),/*#__PURE__*/_jsx(Conversions,{emissions:this.state.totalEm}),/*#__PURE__*/_jsx(Breakdown,{})]});}}]);return Emissions;}(React.Component);","map":{"version":3,"sources":["/Users/annaqzhou/INFO/Capstone/verdancy-client/src/Components/Emissions/Emissions.js"],"names":["React","Component","useState","EmissionsTitle","Conversions","Breakdown","Emissions","props","state","error","isLoaded","totalEm","auth","localStorage","getItem","gardenD","Promise","all","fetch","method","headers","Headers","then","res","json","emissions","setState"],"mappings":"gnCAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAAQC,cAAR,KAA6B,kBAA7B,CACA,OAAQC,WAAR,KAA0B,eAA1B,CACA,OAAQC,SAAR,KAAwB,aAAxB,C,wFAEA,UAAaC,CAAAA,SAAb,kHACI,mBAAYC,KAAZ,CAAmB,2CACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,KAAK,CAAE,IADE,CAETC,QAAQ,CAAE,KAFD,CAGTC,OAAO,CAAE,CAHA,CAITC,IAAI,CAAEC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAJG,CAKTC,OAAO,CAAE,EALA,CAAb,CAFe,aASlB,CAVL,iJAYI,8MAC4BC,CAAAA,OAAO,CAACC,GAAR,CAAY,CAChCC,KAAK,CAAC,wDAAD,CAA2D,CAC5DC,MAAM,CAAE,KADoD,CAE5DC,OAAO,CAAE,GAAIC,CAAAA,OAAJ,CAAY,CACjB,gBAAiB,KAAKb,KAAL,CAAWI,IADX,CAAZ,CAFmD,CAA3D,CAAL,CAMKU,IANL,CAMU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EANb,CADgC,CAAZ,CAD5B,kGACSC,SADT,wBAWI,KAAKC,QAAL,CAAc,CACVf,OAAO,CAAEc,SAAS,CAACnB,SADT,CAAd,EAIA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtCJ,2DAZJ,mIAqDI,iBAAS,CACL,mBACI,cAAM,EAAE,CAAC,gBAAT,wBAEE,KAAC,cAAD,EAAgB,SAAS,CAAE,KAAKE,KAAL,CAAWG,OAAtC,EAFF,cAGE,KAAC,WAAD,EAAa,SAAS,CAAE,KAAKH,KAAL,CAAWG,OAAnC,EAHF,cAIE,KAAC,SAAD,IAJF,GADJ,CASH,CA/DL,uBAA+BX,KAAK,CAACC,SAArC","sourcesContent":["import React, {Component, useState} from 'react';\nimport {EmissionsTitle} from './EmissionsTitle';\nimport {Conversions} from './Conversions';\nimport {Breakdown} from './Breakdown';\n\nexport class Emissions extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            totalEm: 0,\n            auth: localStorage.getItem(\"Authorization\"),\n            gardenD: []\n        }\n    }\n\n    async componentDidMount() {\n        let [emissions] = await Promise.all([\n            fetch(\"https://verdancy.capstone.ischool.uw.edu/v1/emissions/\", {\n                method: 'GET',\n                headers: new Headers({\n                    'Authorization': this.state.auth\n                })\n            })\n                .then(res => res.json())\n        ]);\n\n        this.setState({\n            totalEm: emissions.Emissions\n        });\n\n        // console.log(garden);\n\n\n        // fetch(\"https://verdancy.capstone.ischool.uw.edu/v1/emissions/\", {\n        //     method: 'GET',\n        //     headers: new Headers({\n        //         'Authorization': this.state.auth\n        //     })\n        // })\n        //     .then(res => res.json())\n        //     .then(\n        //         (result) => {\n        //             this.setState({\n        //                 isLoaded: true,\n        //                 totalEm: result.Emissions\n        //             });\n        //         },\n        //         (error) => {\n        //             this.setState({\n        //                 isLoaded: true,\n        //                 error\n        //             });\n        //         }\n        //     )\n    }\n\n    render() {\n        return (\n            <body id=\"emissions-page\">\n\n              <EmissionsTitle emissions={this.state.totalEm} />\n              <Conversions emissions={this.state.totalEm} />\n              <Breakdown  />\n\n            </body>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}