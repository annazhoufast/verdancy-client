{"ast":null,"code":"var _jsxFileName = \"/Users/annaqzhou/go/src/plantastic/client/src/Components/Main/Components/SignOutButton/SignOutButton.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\nimport Errors from '../../../Errors/Errors';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SignOutButton = ({\n  setAuthToken,\n  setUser\n}) => {\n  _s();\n\n  const [error, setError] = useState(\"\");\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: async e => {\n        e.preventDefault();\n        const response = await fetch(api.base + api.handlers.sessionsMine, {\n          method: \"DELETE\"\n        });\n\n        if (response.status >= 300) {\n          const error = await response.text();\n          setError(error);\n          return;\n        }\n\n        localStorage.removeItem(\"Authorization\");\n        setError(\"\");\n        setAuthToken(\"\");\n        setUser(null);\n      },\n      children: \"Sign out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 14\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Errors, {\n        error: error,\n        setError: setError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(SignOutButton, \"Wysf5k9/9rbzWl+spWgJpEWy35U=\");\n\n_c = SignOutButton;\nSignOutButton.propTypes = {\n  setAuthToken: PropTypes.func.isRequired,\n  setUser: PropTypes.func.isRequired\n};\nexport default SignOutButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignOutButton\");","map":{"version":3,"sources":["/Users/annaqzhou/go/src/plantastic/client/src/Components/Main/Components/SignOutButton/SignOutButton.js"],"names":["React","useState","PropTypes","api","Errors","SignOutButton","setAuthToken","setUser","error","setError","e","preventDefault","response","fetch","base","handlers","sessionsMine","method","status","text","localStorage","removeItem","propTypes","func","isRequired"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,GAAP,MAAgB,iDAAhB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;;;;AAEA,MAAMC,aAAa,GAAG,CAAC;AAAEC,EAAAA,YAAF;AAAgBC,EAAAA;AAAhB,CAAD,KAA+B;AAAA;;AACjD,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,EAAD,CAAlC;AAEA,sBAAO;AAAA,4BAAE;AAAQ,MAAA,OAAO,EAAE,MAAOS,CAAP,IAAa;AACnCA,QAAAA,CAAC,CAACC,cAAF;AACA,cAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACV,GAAG,CAACW,IAAJ,GAAWX,GAAG,CAACY,QAAJ,CAAaC,YAAzB,EAAuC;AAC/DC,UAAAA,MAAM,EAAE;AADuD,SAAvC,CAA5B;;AAGA,YAAIL,QAAQ,CAACM,MAAT,IAAmB,GAAvB,EAA4B;AACxB,gBAAMV,KAAK,GAAG,MAAMI,QAAQ,CAACO,IAAT,EAApB;AACAV,UAAAA,QAAQ,CAACD,KAAD,CAAR;AACA;AACH;;AACDY,QAAAA,YAAY,CAACC,UAAb,CAAwB,eAAxB;AACAZ,QAAAA,QAAQ,CAAC,EAAD,CAAR;AACAH,QAAAA,YAAY,CAAC,EAAD,CAAZ;AACAC,QAAAA,OAAO,CAAC,IAAD,CAAP;AACH,OAdQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAF,EAeFC,KAAK,iBACF;AAAA,6BACI,QAAC,MAAD;AAAQ,QAAA,KAAK,EAAEA,KAAf;AAAsB,QAAA,QAAQ,EAAEC;AAAhC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAhBD;AAAA,kBAAP;AAqBH,CAxBD;;GAAMJ,a;;KAAAA,a;AA0BNA,aAAa,CAACiB,SAAd,GAA0B;AACtBhB,EAAAA,YAAY,EAAEJ,SAAS,CAACqB,IAAV,CAAeC,UADP;AAEtBjB,EAAAA,OAAO,EAAEL,SAAS,CAACqB,IAAV,CAAeC;AAFF,CAA1B;AAKA,eAAenB,aAAf","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\nimport Errors from '../../../Errors/Errors';\n\nconst SignOutButton = ({ setAuthToken, setUser }) => {\n    const [error, setError] = useState(\"\");\n\n    return <><button onClick={async (e) => {\n        e.preventDefault();\n        const response = await fetch(api.base + api.handlers.sessionsMine, {\n            method: \"DELETE\"\n        });\n        if (response.status >= 300) {\n            const error = await response.text();\n            setError(error);\n            return;\n        }\n        localStorage.removeItem(\"Authorization\");\n        setError(\"\");\n        setAuthToken(\"\");\n        setUser(null);\n    }}>Sign out</button>\n        {error &&\n            <div>\n                <Errors error={error} setError={setError} />\n            </div>\n        }\n    </>\n}\n\nSignOutButton.propTypes = {\n    setAuthToken: PropTypes.func.isRequired,\n    setUser: PropTypes.func.isRequired\n}\n\nexport default SignOutButton;"]},"metadata":{},"sourceType":"module"}