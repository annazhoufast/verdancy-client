{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amjjl\\\\OneDrive\\\\Documents\\\\College\\\\INFO Capstone\\\\verdancy-client\\\\src\\\\Components\\\\Emissions\\\\Breakdown.js\";\nimport React, { Component, useState } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Breakdown extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: []\n    };\n  }\n\n  drawChart(data) {\n    // const data = this.state.data;\n    console.log(data);\n    const margin = {\n      top: 20,\n      right: 60,\n      bottom: 40,\n      left: 40\n    };\n    const height = 700;\n    const width = window.innerWidth - 400;\n    const yeet = d3.sort(data, d => d.TotalCO2);\n    console.log(yeet);\n    const color = d3.scaleOrdinal().domain(yeet.map(d => d.PlantName)).range([\"#F4EBC2\", \"#D8C469\", \"#feffa6\", \"#E89B55\"]);\n    const max_CO2 = d3.max(data, d => d.TotalCO2);\n    const x_scale = d3.scaleLinear().domain([0, max_CO2]).range([margin.left + 60, width - margin.right - 150]);\n    const y_scale = d3.scaleBand().domain(yeet.map(d => d.PlantName)).range([height - margin.bottom, margin.top]).padding(0.1);\n\n    const xAxis = g => g.attr(\"transform\", `translate(0, 0)`).call(d3.axisBottom(x_scale));\n\n    const yAxis = g => g.attr(\"transform\", `translate(${margin.left},0)`).call(d3.axisLeft().scale(y_scale)).style(\"font-size\", \"16pt\"); // const chart = d3.select(\"body\")\n\n\n    const chart = d3.select(\"#my-svg\").append(\"svg\").attr(\"width\", width).attr(\"height\", height).style(\"background-color\", \"#679967\"); // .attr(\"transform\", \"translate(100, 100)\");\n\n    chart.append('g').call(xAxis).attr(\"transform\", `translate(100, ${height - 25})`).style(\"color\", \"white\");\n    chart.append('g').call(yAxis).attr(\"transform\", \"translate(200,0)\").style(\"color\", \"white\");\n    chart.append(\"g\").selectAll(\"rect\").data(yeet).join(\"rect\").attr(\"fill\", d => color(d.PlantName)).attr(\"x\", x_scale(0) + 100).attr(\"y\", d => y_scale(d.PlantName) + 15).attr(\"width\", d => x_scale(d.TotalCO2) - x_scale(0)).attr(\"height\", 30); // y_scale.bandwidth()\n\n    chart.selectAll(\"labels\").data(yeet).enter().append(\"text\").attr(\"x\", d => x_scale(d.TotalCO2) + 5 + 100).attr(\"y\", d => y_scale(d.PlantName) + 35).text(d => d.TotalCO2).style(\"fill\", \"white\").style(\"font\", \"12pt Sans-serif\");\n    const an = chart.append(\"text\").attr(\"transform\", `translate(${width / 2 + 20}, ${height - 50})`).text(\"\").style(\"text-anchor\", \"middle\").style(\"font\", \"20pt Sans-serif\").style(\"fill\", \"white\");\n    an.text(`gCO2e`);\n  }\n\n  componentDidMount() {\n    // console.log(this.state.data);\n    console.log(window.innerWidth);\n    fetch(\"https://verdancy.capstone.ischool.uw.edu/v1/UserPlants/\", {\n      method: \"GET\",\n      headers: new Headers({\n        \"Authorization\": localStorage.getItem(\"Authorization\")\n      })\n    }).then(res => res.json()).then(result => {\n      this.drawChart(result);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"green-background\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"centered\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"centered emissions-header\",\n            children: \"Plantastic! Let's take a look at the emissions that were saved by each vegetable...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"my-svg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"right-stuff\",\n          children: \"gCO2e\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/amjjl/OneDrive/Documents/College/INFO Capstone/verdancy-client/src/Components/Emissions/Breakdown.js"],"names":["React","Component","useState","d3","Breakdown","constructor","props","state","data","drawChart","console","log","margin","top","right","bottom","left","height","width","window","innerWidth","yeet","sort","d","TotalCO2","color","scaleOrdinal","domain","map","PlantName","range","max_CO2","max","x_scale","scaleLinear","y_scale","scaleBand","padding","xAxis","g","attr","call","axisBottom","yAxis","axisLeft","scale","style","chart","select","append","selectAll","join","enter","text","an","componentDidMount","fetch","method","headers","Headers","localStorage","getItem","then","res","json","result","render"],"mappings":"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","sourcesContent":["import React, {Component, useState} from 'react';\r\nimport * as d3 from 'd3';\r\n\r\n\r\nexport class Breakdown extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state ={\r\n            data: []\r\n        }\r\n    }\r\n\r\n    drawChart(data) {\r\n        // const data = this.state.data;\r\n        console.log(data);\r\n        const margin = ({ top: 20, right: 60, bottom: 40, left: 40 });\r\n\r\n        const height = 700;\r\n\r\n        const width = window.innerWidth - 400;\r\n\r\n        const yeet = d3.sort(data, d => d.TotalCO2);\r\n\r\n        console.log(yeet);\r\n\r\n        const color = d3.scaleOrdinal()\r\n            .domain(yeet.map(d => d.PlantName))\r\n            .range([\"#F4EBC2\", \"#D8C469\", \"#feffa6\", \"#E89B55\"]);\r\n\r\n\r\n        const max_CO2 = d3.max(data, d => d.TotalCO2);\r\n\r\n\r\n\r\n        const x_scale = d3.scaleLinear()\r\n            .domain([0, max_CO2])\r\n            .range([margin.left + 60, width - margin.right - 150]);\r\n\r\n        const y_scale = d3.scaleBand()\r\n            .domain(yeet.map(d => d.PlantName))\r\n            .range([height - margin.bottom, margin.top])\r\n            .padding(0.1);\r\n\r\n        const xAxis = g => g\r\n            .attr(\"transform\", `translate(0, 0)`)\r\n            .call(d3.axisBottom(x_scale));\r\n\r\n        const yAxis = g => g\r\n            .attr(\"transform\", `translate(${margin.left},0)`)\r\n            .call(d3.axisLeft().scale(y_scale))\r\n            .style(\"font-size\", \"16pt\");\r\n\r\n        // const chart = d3.select(\"body\")\r\n        const chart = d3.select(\"#my-svg\")\r\n            .append(\"svg\")\r\n            .attr(\"width\", width)\r\n            .attr(\"height\", height)\r\n            .style(\"background-color\", \"#679967\");\r\n            // .attr(\"transform\", \"translate(100, 100)\");\r\n\r\n        chart.append('g')\r\n            .call(xAxis)\r\n            .attr(\"transform\", `translate(100, ${height-25})`)\r\n            .style(\"color\", \"white\");\r\n\r\n        chart.append('g')\r\n            .call(yAxis)\r\n            .attr(\"transform\", \"translate(200,0)\")\r\n            .style(\"color\", \"white\");\r\n\r\n        chart.append(\"g\")\r\n            .selectAll(\"rect\")\r\n            .data(yeet)\r\n            .join(\"rect\")\r\n                .attr(\"fill\", (d) => color(d.PlantName))\r\n                .attr(\"x\", x_scale(0) + 100)\r\n                .attr(\"y\", d => y_scale(d.PlantName) + 15)\r\n                .attr(\"width\", d => x_scale(d.TotalCO2) - x_scale(0))\r\n                .attr(\"height\", 30); // y_scale.bandwidth()\r\n\r\n        chart.selectAll(\"labels\")\r\n            .data(yeet)\r\n            .enter()\r\n            .append(\"text\")\r\n              .attr(\"x\", (d) => x_scale(d.TotalCO2) + 5 + 100)\r\n              .attr(\"y\", d => y_scale(d.PlantName) + 35)\r\n              .text(d => d.TotalCO2)\r\n              .style(\"fill\", \"white\")\r\n            .style(\"font\", \"12pt Sans-serif\");\r\n\r\n        const an = chart.append(\"text\")\r\n            .attr(\"transform\", `translate(${width / 2 + 20}, ${height - 50})`)\r\n            .text(\"\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .style(\"font\", \"20pt Sans-serif\")\r\n            .style(\"fill\", \"white\");\r\n\r\n          an.text(`gCO2e`);\r\n    }\r\n\r\n    componentDidMount() {\r\n        // console.log(this.state.data);\r\n\r\n        console.log(window.innerWidth);\r\n        fetch(\"https://verdancy.capstone.ischool.uw.edu/v1/UserPlants/\", {\r\n            method: \"GET\",\r\n            headers: new Headers({\r\n                \"Authorization\": localStorage.getItem(\"Authorization\")\r\n            })\r\n        })\r\n            .then(res => res.json())\r\n            .then((result) => {\r\n                this.drawChart(result);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n          <section className=\"green-background\">\r\n            <div className=\"container\">\r\n              <div className=\"centered\">\r\n                <h3 className=\"centered emissions-header\">Plantastic! Let's take a look at the emissions that were saved by each vegetable...</h3>\r\n              </div>\r\n                {/* <svg id=\"my-svg\" width={window.innerWidth} height={800}></svg> */}\r\n                <div id=\"my-svg\"></div>\r\n                <p className=\"right-stuff\">gCO2e</p>\r\n            </div>\r\n          </section>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}