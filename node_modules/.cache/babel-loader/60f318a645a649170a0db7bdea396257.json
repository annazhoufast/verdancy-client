{"ast":null,"code":"import _regeneratorRuntime from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/annaqzhou/INFO/Capstone/verdancy-client/node_modules/@babel/runtime/helpers/esm/createSuper\";import logo from\"./logo.svg\";import React,{Component,useState}from'react';import{HashRouter as Router,Switch,Route,Link}from'react-router-dom';import{Navbar,Nav,Button}from'react-bootstrap';import{Home}from'./Components/HomePage/Home';import{Advice}from'./Components/Advice/Advice';import{Emissions}from'./Components/Emissions/Emissions';import{Garden}from'./Components/Garden/Garden';import{Search}from'./Components/Search/Search';import{LandingPage}from'./Components/LandingPage/LandingPage';import SignUp from'./Components/Auth/Components/SignUp/SignUp';import SignIn from'./Components/Auth/Components/SignIn/SignIn';import Auth from'./Components/Auth/Auth';import{SinglePlant}from'./Components/SinglePlant/SinglePlant';import'./App.css';import'./index.css';import PageTypes from'./Constants/PageTypes/PageTypes';import api from'./Constants/APIEndpoints/APIEndpoints';import{PleaseSignIn}from'./Components/Auth/Components/PleaseSIgnIn';import SignOutButton from'./Components/Main/Components/SignOutButton/SignOutButton';// s\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);// function App() {\nfunction App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.getCurrentUser=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(_this.state.authToken){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.next=4;return fetch(api.base+api.handlers.myuser,{headers:new Headers({\"Authorization\":_this.state.authToken})});case 4:response=_context.sent;if(!(response.status>=300)){_context.next=11;break;}alert(\"Unable to verify login. Logging out...\");localStorage.setItem(\"Authorization\",\"\");_this.setAuthToken(\"\");_this.setUser(null);return _context.abrupt(\"return\");case 11:_context.next=13;return response.json();case 13:user=_context.sent;_this.setUser(user);case 15:case\"end\":return _context.stop();}}},_callee);}));_this.setPageToSignIn=function(e){e.preventDefault();_this.setState({page:PageTypes.signIn});};_this.setPageToSignUp=function(e){e.preventDefault();_this.setState({page:PageTypes.signUp});};_this.setPage=function(e,page){e.preventDefault();_this.setState({page:page});};_this.setAuthToken=function(authToken){_this.setState({authToken:authToken,page:authToken===\"\"?PageTypes.signIn:PageTypes.signedInMain});};_this.setUser=function(user){_this.setState({user:user});};_this.state={page:localStorage.getItem(\"Authorization\")?PageTypes.signedInMain:PageTypes.signIn,authToken:localStorage.getItem(\"Authorization\")||null,user:null,singlePlants:[],plants:[],userPlants:[]};_this.getCurrentUser();return _this;}/**\n     * @description Gets the users\n     */_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// getUserPlants = async () => {\n// this.getUserPlants();\n// setInterval(this.getData, 5000);\nvar response=fetch(\"https://verdancy.capstone.ischool.uw.edu/v1/plants\").then(function(res){return res.json();}).then(function(result){console.log(result);_this2.setState({plants:result});result.map(function(cur){return _this2.state.singlePlants.push(/*#__PURE__*/_jsx(Route,{exact:true,path:\"/plant/\".concat(cur.PlantID),children:/*#__PURE__*/_jsx(SinglePlant,{id:cur.PlantID})}));});});// console.log(this.state.authToken)\n// if (this.state.authToken) {\n//     fetch(\"https://verdancy.capstone.ischool.uw.edu/v1/UserPlants/\", {\n//         method: 'GET',\n//         headers: new Headers({\n//             'Authorization': this.state.authToken\n//         })\n//     }).then(res => res.json())\n//         .then((result) => {\n//             // console.log(result);\n//             // this.setState({userPlants: result});\n//             this.state.userPlants = result;\n//             // console.log(this.state.userPlants);\n//         });\n// }\n// console.log(this.state.userPlants);\n}},{key:\"render\",value:function render(){console.log(this.state.id);var _this$state=this.state,page=_this$state.page,user=_this$state.user;return/*#__PURE__*/_jsxs(Router,{basename:process.env.PUBLIC_URL,children:[/*#__PURE__*/_jsx(Navbar,{className:\"darkgreen-background\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",id:\"nav-bar\",children:[/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/\",children:\"verdancy\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"nav-links\",children:[/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/advice\",children:\"advice\"}),/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/search\",children:\"search\"}),/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/emissions\",children:\"my emissions\"}),/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/garden\",children:\"my garden\"}),/*#__PURE__*/_jsx(Button,{className:\"green-button\",children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"nav-button\",children:\"Get Started\"})}),/*#__PURE__*/_jsx(Button,{className:\"cream-button\",children:/*#__PURE__*/_jsx(Link,{to:\"/signin\",className:\"nav-button\",children:\"Sign In\"})})]})]})}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",component:Home}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/landing\",component:LandingPage}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/advice\",component:Advice}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/emissions\",children:user?/*#__PURE__*/_jsx(Emissions,{}):/*#__PURE__*/_jsx(PleaseSignIn,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/garden\",children:user?/*#__PURE__*/_jsx(Garden,{plants:this.state.userPlants}):/*#__PURE__*/_jsx(PleaseSignIn,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/search\",children:/*#__PURE__*/_jsx(Search,{stuff:this.state.plants})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/signin\",children:user?/*#__PURE__*/_jsx(SignOutButton,{setUser:this.setUser,setAuthToken:this.setAuthToken}):/*#__PURE__*/_jsx(SignIn,{setPage:this.setPage,setAuthToken:this.setAuthToken,setUser:this.setUser})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/signup\",children:user?/*#__PURE__*/_jsx(SignOutButton,{setUser:this.setUser,setAuthToken:this.setAuthToken}):/*#__PURE__*/_jsx(SignUp,{setPage:this.setPage,setAuthToken:this.setAuthToken,setUser:this.setUser})}),this.state.singlePlants]}),/*#__PURE__*/_jsx(\"section\",{className:\"darkgreen-background\",id:\"footer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"centered\",id:\"footer-links\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/landing\",children:\"Learn more about our team and our project!\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:\"https://raw.githubusercontent.com/annazhoufast/verdancy-client/main/src/imgs/landing/ischool.png?token=AKMRZNWG2D6W6FHVVNTEUWDATCKZE\",alt:\"iSchool logo\"})})]})})})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/annaqzhou/INFO/Capstone/verdancy-client/src/App.js"],"names":["React","Component","useState","HashRouter","Router","Switch","Route","Link","Navbar","Nav","Button","Home","Advice","Emissions","Garden","Search","LandingPage","SignUp","SignIn","Auth","SinglePlant","PageTypes","api","PleaseSignIn","SignOutButton","App","getCurrentUser","state","authToken","fetch","base","handlers","myuser","headers","Headers","response","status","alert","localStorage","setItem","setAuthToken","setUser","json","user","setPageToSignIn","e","preventDefault","setState","page","signIn","setPageToSignUp","signUp","setPage","signedInMain","getItem","singlePlants","plants","userPlants","then","res","result","console","log","map","cur","push","PlantID","id","process","env","PUBLIC_URL"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\nimport React, {Component, useState} from 'react';\nimport {\n    HashRouter as Router,\n    Switch,\n    Route,\n    Link\n} from 'react-router-dom';\nimport {Navbar, Nav, Button} from 'react-bootstrap';\nimport {Home} from './Components/HomePage/Home';\nimport {Advice} from './Components/Advice/Advice';\nimport {Emissions} from './Components/Emissions/Emissions';\nimport {Garden} from './Components/Garden/Garden';\nimport {Search} from './Components/Search/Search';\nimport {LandingPage} from './Components/LandingPage/LandingPage';\nimport SignUp from './Components/Auth/Components/SignUp/SignUp';\nimport SignIn from './Components/Auth/Components/SignIn/SignIn';\nimport Auth from './Components/Auth/Auth';\nimport {SinglePlant} from './Components/SinglePlant/SinglePlant';\nimport './App.css';\nimport './index.css';\nimport PageTypes from './Constants/PageTypes/PageTypes';\nimport api from './Constants/APIEndpoints/APIEndpoints';\nimport {PleaseSignIn} from './Components/Auth/Components/PleaseSIgnIn';\nimport SignOutButton from './Components/Main/Components/SignOutButton/SignOutButton';\n// s\n\nclass App extends Component {\n// function App() {\n    constructor() {\n        super();\n        this.state = {\n            page: localStorage.getItem(\"Authorization\") ? PageTypes.signedInMain : PageTypes.signIn,\n            authToken: localStorage.getItem(\"Authorization\") || null,\n            user: null,\n            singlePlants: [],\n            plants: [],\n            userPlants: []\n        }\n\n        this.getCurrentUser()\n    }\n\n\n    /**\n     * @description Gets the users\n     */\n    getCurrentUser = async () => {\n        if (!this.state.authToken) {\n            return;\n        }\n        const response = await fetch(api.base + api.handlers.myuser, {\n            headers: new Headers({\n                \"Authorization\": this.state.authToken\n            })\n        });\n        if (response.status >= 300) {\n            alert(\"Unable to verify login. Logging out...\");\n            localStorage.setItem(\"Authorization\", \"\");\n            this.setAuthToken(\"\");\n            this.setUser(null)\n            return;\n        }\n        const user = await response.json()\n        this.setUser(user);\n\n    }\n\n    /**\n     * @description sets the page type to sign in\n     */\n    setPageToSignIn = (e) => {\n        e.preventDefault();\n        this.setState({ page: PageTypes.signIn });\n    }\n\n    /**\n     * @description sets the page type to sign up\n     */\n    setPageToSignUp = (e) => {\n        e.preventDefault();\n        this.setState({ page: PageTypes.signUp });\n    }\n\n    setPage = (e, page) => {\n        e.preventDefault();\n        this.setState({ page });\n    }\n\n    /**\n     * @description sets auth token\n     */\n    setAuthToken = (authToken) => {\n        this.setState({ authToken, page: authToken === \"\" ? PageTypes.signIn : PageTypes.signedInMain });\n    }\n\n    /**\n     * @description sets the user\n     */\n    setUser = (user) => {\n        this.setState({ user });\n    }\n\n    componentDidMount() {\n        // getUserPlants = async () => {\n        // this.getUserPlants();\n        // setInterval(this.getData, 5000);\n        const response = fetch(\"https://verdancy.capstone.ischool.uw.edu/v1/plants\")\n            .then(res => res.json())\n            .then((result) => {\n                console.log(result);\n                this.setState({plants: result});\n                result.map(cur => (\n                    this.state.singlePlants.push(\n                        <Route exact path={`/plant/${cur.PlantID}`}>\n                            <SinglePlant id={cur.PlantID}/>\n                        </Route>\n                    )\n                ));\n            });\n        // console.log(this.state.authToken)\n        // if (this.state.authToken) {\n        //     fetch(\"https://verdancy.capstone.ischool.uw.edu/v1/UserPlants/\", {\n        //         method: 'GET',\n        //         headers: new Headers({\n        //             'Authorization': this.state.authToken\n        //         })\n        //     }).then(res => res.json())\n        //         .then((result) => {\n        //             // console.log(result);\n        //             // this.setState({userPlants: result});\n        //             this.state.userPlants = result;\n        //             // console.log(this.state.userPlants);\n        //         });\n        // }\n        // console.log(this.state.userPlants);\n\n    }\n\n\n\n  render() {\n    console.log(this.state.id);\n    const { page, user } = this.state;\n      return (\n        <Router basename={process.env.PUBLIC_URL} >\n\n            <Navbar className=\"darkgreen-background\">\n                <div className=\"container\" id=\"nav-bar\">\n                    <Link className=\"link\" to=\"/\">verdancy</Link>\n                    <div id=\"nav-links\">\n                        <Link className=\"link\" to=\"/advice\">advice</Link>\n                        <Link className=\"link\" to=\"/search\">search</Link>\n                        <Link className=\"link\" to=\"/emissions\">my emissions</Link>\n                        <Link className=\"link\" to=\"/garden\">my garden</Link>\n                        <Button className=\"green-button\">\n                            <Link to=\"/signup\" className=\"nav-button\">Get Started</Link>\n                        </Button>\n                        <Button className=\"cream-button\">\n                            <Link to=\"/signin\" className=\"nav-button\">Sign In</Link>\n                        </Button>\n                    </div>\n                </div>\n            </Navbar>\n\n            <Switch>\n                <Route exact path=\"/\" component={Home}></Route>\n                <Route exact path=\"/landing\" component={LandingPage}></Route>\n                <Route exact path=\"/advice\" component={Advice}></Route>\n                <Route exact path=\"/emissions\">\n                {user ? <Emissions />:\n                        <PleaseSignIn />\n                    }\n                </Route>\n                <Route exact path=\"/garden\">\n                    {user ? <Garden plants={this.state.userPlants} /> :\n                        <PleaseSignIn />\n                    }\n                </Route>\n                <Route exact path=\"/search\">\n                    <Search stuff={this.state.plants} />\n                </Route>\n                <Route exact path=\"/signin\">\n                    {user ? <SignOutButton setUser={this.setUser} setAuthToken={this.setAuthToken} />\n                        :\n                        <SignIn setPage={this.setPage} setAuthToken={this.setAuthToken} setUser={this.setUser} />\n\n                    }\n                </Route>\n                <Route exact path=\"/signup\">\n                    {user ? <SignOutButton setUser={this.setUser} setAuthToken={this.setAuthToken} />\n                        :\n                        <SignUp setPage={this.setPage} setAuthToken={this.setAuthToken} setUser={this.setUser} />\n                    }\n                </Route>\n                {/* this is terrible code im sorry but i cant think of anything else */}\n                {this.state.singlePlants}\n            </Switch>\n\n            <section className=\"darkgreen-background\" id=\"footer\">\n              <div className=\"container\">\n                <div className=\"centered\" id=\"footer-links\">\n                  <div>\n                    <Link className=\"link\" to=\"/landing\">Learn more about our team and our project!</Link>\n                  </div>\n                  <div>\n                    <img src=\"https://raw.githubusercontent.com/annazhoufast/verdancy-client/main/src/imgs/landing/ischool.png?token=AKMRZNWG2D6W6FHVVNTEUWDATCKZE\"\n                    alt=\"iSchool logo\"/>\n                  </div>\n                </div>\n              </div>\n            </section>\n\n        </Router>\n\n    );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}